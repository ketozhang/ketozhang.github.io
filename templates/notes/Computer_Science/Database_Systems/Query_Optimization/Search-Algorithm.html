<h2 id="dynamic-programming">Dynamic Programming</h2>
<p>We will implement dynamic programming (implementation changes
depending on input and query) with the idea of principle of
optimality.</p>
<ul>
<li><strong>Principle of Optimality</strong>: The best overall plan is
composed of best decision of the sub plans</li>
<li>From the lowest height we find the best plan and combine it with the
plan before it.</li>
<li>Plans are stored in a lookup table. Each field in the lookup table
corresponse to a pair of tables, the best plan, and the cost.
<ul>
<li>To implement physical property of some joins which may not be the
best plan for the subplan but best for another (e.g., sortmerge outputs
sorted table which may be useful for another subplan), we can add the
same pair of tables along with the ordering of the columns and the plan
that orders them.</li>
</ul></li>
<li>Cartesian products are ignored on some plan <span
class="math inline">\(i\)</span> until:
<ul>
<li>There is a joint condition between them, <strong>or</strong></li>
<li>All <code>WHERE</code> clause are used up by previous plans.</li>
</ul></li>
</ul>
