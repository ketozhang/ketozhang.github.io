<p>A page replacement takes note in the buffer whether or not the page to be replaced is either pinned or dirty.</p>
<ul>
<li><strong>Pinned Page</strong>: A pinned page signify that the page is still being used.</li>
<li><strong>Dirty Page</strong>: If a dirty page was selected to be replaced that must mean the page must be written back to the disk before replacement.</li>
</ul>
<ol style="list-style-type: decimal">
<li>Scan for unpinned page</li>
<li>Check dirty bit. If dirty write to disk.</li>
<li>Replace page and pin.</li>
</ol>
<h2 id="least-recently-used-lru">Least Recently Used (LRU)</h2>
<p>The LRU tracks when the page was last recently used (last unpinned).</p>
<ul>
<li>LRU ignores all pinned pages.</li>
<li>Benefits from a buffer pool larger than the requested files.</li>
<li>Very bad on sequential scan causing sequential flooding.</li>
</ul>
<h2 id="most-recently-used-mru">Most Recently Used (MRU)</h2>
<p>A counterintuitive policy opposite of the LRU.</p>
<ul>
<li>Only good for sequential scan and optimal for sequential flooding scenarios.</li>
<li><p>For cases where the number of files requested is bigger than the buffer (<span class="math inline">\(N &gt; B\)</span>), the hit rate goes as,</p>
<p><span class="math display">\[ \frac{B-1}{N} \]</span></p></li>
</ul>
<h2 id="clock-policy">Clock Policy</h2>
<p>Imagine the pages gathered in a circle.</p>
<ul>
<li><strong>Clock hand</strong>: A pointer at the center pointing at the page it's currently scanning.</li>
<li><strong>Reference bit</strong>: Every page gets a reference bit that's either filled or empty.</li>
<li>A page is replace if the clock hand points to the page and its reference bit is unfilled. All given that the page isn't pinned.</li>
<li>Once a new page is appended, we pin the page and the reference bit is filled.</li>
<li>Because we don't need a comparator, the clock policy runs faster than LRU.</li>
</ul>
<p>The clock policy is considered a second chance policy due to the reference bit.</p>
<p>The full algorithm would go as so:</p>
<ol style="list-style-type: decimal">
<li>Ignore the clock policy until the buffer is full.</li>
<li>Once full, place the clock hand at the first page inserted.</li>
<li>Insert a file:
<ul>
<li>If file exist in buffer, turn on the reference bit of that page but do not advance hand.</li>
<li>If file does not exist in buffer, check the page the clock hand pointed to. If the reference bit is on, turn it off and advance. If the reference bit is off, replace the page.</li>
<li>If a page is replace, place a pin and reference bit on the page. Advance the clock. <strong>Never penalize the new page</strong>.</li>
</ul></li>
</ol>
