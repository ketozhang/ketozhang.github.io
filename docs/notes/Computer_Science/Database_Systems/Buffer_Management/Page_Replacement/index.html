<!doctype html>
<html lang='en'>

<head>
  <meta charset="UTF-8">
  <title>
    
    Keto | Page Replacement
    
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href=" https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">
  <link href=" https://fonts.googleapis.com/css?family=Roboto|Source+Code+Pro" rel="stylesheet">
  <link href="https://ketozhang.github.io/static/prism.css" rel="stylesheet">
  <link href="https://ketozhang.github.io/static/prism-atom-dark.css" rel="stylesheet">

  <!-- CSS Stylesheet -->
  <link href="https://ketozhang.github.io/static/favicon.ico" rel="shortcut icon">
  
  <link href="/static/main.css?6c17db03" rel="stylesheet">
  

  <!-- LaTeX Stylesheet -->
  
  <div class="d-none">
    $$
    \newcommand{d}{\mathrm d}
    \newcommand{avg}[1]{\expval{#1}}
    \renewcommand{vec}[1]{\vectorbold{#1}}
    $$
  </div>
  
</head>

<body>
  
<div class="container-fluid" id="note">
  <!-- <nav class="navbar navbar-expand-lg">
        <button id="sidenavCollapse" class="btn btn-info" type="button">
            <i class="fas fa-align-left"></i>
            <span>Toggle Sidebar</span>
        </button>
    </nav> -->
  <article class="row">
    <!-- Notebook Sidenav -->
    <div class="col-3 bg-light pt-1">
      <div class="sidenav sticky-top vh-80">
        <div class="sidenav-header row no-gutters">
          <div class="col-9">
            <strong>Page Replacement</strong>
          </div>
          <div class="col-2 offset-1">
            <a class="go-up" href="https://ketozhang.github.io/notes/Computer_Science/Database_Systems/Buffer_Management/" role="button">
              <img src="https://img.icons8.com/dotty/80/000000/up.png" style="width: 25px; height: 25px" />
            </a>
          </div>
        </div>
        <div class="sidenav-body no-gutters">
          <ul class="no-list-style pl-3">
            
          </ul>
        </div>
      </div>
    </div>

    <!-- Content -->
    <div class="col-7 col-md-6">
      <h1 class="title text-center pt-3">Page Replacement</h1>
      
      <div class="markdown-content">
        <p>A page replacement takes note in the buffer whether or not the page to be replaced is either pinned or dirty.</p>
<ul>
<li><strong>Pinned Page</strong>: A pinned page signify that the page is still being used.</li>
<li><strong>Dirty Page</strong>: If a dirty page was selected to be replaced that must mean the page must be written back to the disk before replacement.</li>
</ul>
<ol type="1">
<li>Scan for unpinned page</li>
<li>Check dirty bit. If dirty write to disk.</li>
<li>Replace page and pin.</li>
</ol>
<h2 id="least-recently-used-lru">Least Recently Used (LRU)</h2>
<p>The LRU tracks when the page was last recently used (last unpinned).</p>
<ul>
<li>LRU ignores all pinned pages.</li>
<li>Benefits from a buffer pool larger than the requested files.</li>
<li>Very bad on sequential scan causing sequential flooding.</li>
</ul>
<h2 id="most-recently-used-mru">Most Recently Used (MRU)</h2>
<p>A counterintuitive policy opposite of the LRU.</p>
<ul>
<li><p>Only good for sequential scan and optimal for sequential flooding scenarios.</p></li>
<li><p>For cases where the number of files requested is bigger than the buffer (<span class="math inline">\(N &gt; B\)</span>), the hit rate goes as,</p>
<p><span class="math display">\[ \frac{B-1}{N} \]</span></p></li>
</ul>
<h2 id="clock-policy">Clock Policy</h2>
<p>Imagine the pages gathered in a circle.</p>
<ul>
<li><strong>Clock hand</strong>: A pointer at the center pointing at the page it’s currently scanning.</li>
<li><strong>Reference bit</strong>: Every page gets a reference bit that’s either filled or empty.</li>
<li>A page is replace if the clock hand points to the page and its reference bit is unfilled. All given that the page isn’t pinned.</li>
<li>Once a new page is appended, we pin the page and the reference bit is filled.</li>
<li>Because we don’t need a comparator, the clock policy runs faster than LRU.</li>
</ul>
<p>The clock policy is considered a second chance policy due to the reference bit.</p>
<p>The full algorithm would go as so:</p>
<ol type="1">
<li>Ignore the clock policy until the buffer is full.</li>
<li>Once full, place the clock hand at the first page inserted.</li>
<li>Insert a file:
<ul>
<li>If file exist in buffer, turn on the reference bit of that page but do not advance hand.</li>
<li>If file does not exist in buffer, check the page the clock hand pointed to. If the reference bit is on, turn it off and advance. If the reference bit is off, replace the page.</li>
<li>If a page is replace, place a pin and reference bit on the page. Advance the clock. <strong>Never penalize the new page</strong>.</li>
</ul></li>
</ol>

      </div>
      
    </div>
    <!-- On This Page -->
    <div class="col-md-3 d-none d-md-block">
      <div class="onthispage sidenav small">
    <div class="sidenav-header">
        <strong>&#9776; On This Page</strong>
    </div>
    <div class="onthispage-collapse">
        <div class="sidenav-body bg-light">
            <ul class="onthispage-list no-list-style"></ul>
        </div>
    </div>
</div>
    </div>
  </article>
</div>


  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

  <script src="https://ketozhang.github.io/static/js/datetime.js"></script>
  <script src="https://ketozhang.github.io/static/js/disqus.js"></script>
  <script src="https://ketozhang.github.io/static/js/codeHighlight.js"></script>
  <script src="https://ketozhang.github.io/static/js/prism.js"></script>
  <script src="https://ketozhang.github.io/static/js/onthispage.js"></script>
  <script src="https://ketozhang.github.io/static/js/markdown.js"></script>

  <!-- MathJax -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://ketozhang.github.io/static/js/mathjax_config.js" defer></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" defer></script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>


  <!-- Custom Global scripts -->
  <script>
    $(document).ready(function () {
      Prism.highlightAll();
    })
  </script>

  <!-- Local scripts -->
  
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.js"></script>
<script>
  anchors.add();
</script>

</body>

</html>